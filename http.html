
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>abrupt.http - HTTP base classes &mdash; Abrupt v0.2 documentation</title>
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '0.2',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="Abrupt v0.2 documentation" href="index.html" />
    <link rel="next" title="abrupt.proxy - HTTP(S) Proxy" href="proxy.html" />
    <link rel="prev" title="Quickstart" href="index.html" /> 
  </head>
  <body>
<pre class="header_logo">
   _   _                  _   
  /_\ | |__ _ _ _  _ _ __| |_ 
 / _ \| '_ \ '_| || | '_ \  _|
/_/ \_\_.__/_|  \_,_| .__/\__|
                 0.2|_|       
</pre>

    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="proxy.html" title="abrupt.proxy - HTTP(S) Proxy"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="index.html" title="Quickstart"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">Abrupt v0.2 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
          <div class="body">
            
  <div class="section" id="abrupt-http-http-base-classes">
<h1>abrupt.http - HTTP base classes<a class="headerlink" href="#abrupt-http-http-base-classes" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="Request">
<em class="property">class </em><tt class="descname">Request</tt><big>(</big><em>fp</em><span class="optional">[</span>, <em>hostname=None</em>, <em>port=80</em>, <em>use_ssl=False</em><span class="optional">]</span><big>)</big><a class="headerlink" href="#Request" title="Permalink to this definition">¶</a></dt>
<dd><p>The Request class is the base of Abrupt. To create an instance, you have
two options: either use a socket or a string representing the whole request
into the constructor or use the <a class="reference internal" href="#c" title="c"><tt class="xref py py-func docutils literal"><span class="pre">c()</span></tt></a> function.
Once created, the Request object have the following attributes:</p>
<dl class="attribute">
<dt id="Request.method">
<tt class="descname">method</tt><a class="headerlink" href="#Request.method" title="Permalink to this definition">¶</a></dt>
<dd><p>Contains the HTTP method of the request. For instance, &#8220;GET&#8221;</p>
</dd></dl>

<dl class="attribute">
<dt id="Request.url">
<tt class="descname">url</tt><a class="headerlink" href="#Request.url" title="Permalink to this definition">¶</a></dt>
<dd><p>A 6-tuple result, see <a class="reference external" href="http://docs.python.org/library/urlparse.html">http://docs.python.org/library/urlparse.html</a></p>
</dd></dl>

<dl class="attribute">
<dt id="Request.http_version">
<tt class="descname">http_version</tt><a class="headerlink" href="#Request.http_version" title="Permalink to this definition">¶</a></dt>
<dd><p>The HTTP version. For instance, &#8220;HTTP/1.1&#8221;</p>
</dd></dl>

<dl class="attribute">
<dt id="Request.hostname">
<tt class="descname">hostname</tt><a class="headerlink" href="#Request.hostname" title="Permalink to this definition">¶</a></dt>
<dd><p>The hostname of the server. For instance, &#8220;phrack.org&#8221;</p>
</dd></dl>

<dl class="attribute">
<dt id="Request.port">
<tt class="descname">port</tt><a class="headerlink" href="#Request.port" title="Permalink to this definition">¶</a></dt>
<dd><p>The port used to connect to the server. By default &#8220;80&#8221;.</p>
</dd></dl>

<dl class="attribute">
<dt id="Request.use_ssl">
<tt class="descname">use_ssl</tt><a class="headerlink" href="#Request.use_ssl" title="Permalink to this definition">¶</a></dt>
<dd><p>A boolean indicating if SSL is used. By default, False</p>
</dd></dl>

<dl class="attribute">
<dt id="Request.headers">
<tt class="descname">headers</tt><a class="headerlink" href="#Request.headers" title="Permalink to this definition">¶</a></dt>
<dd><p>List of couple containing the headers.</p>
</dd></dl>

<dl class="attribute">
<dt id="Request.path">
<tt class="descname">path</tt><a class="headerlink" href="#Request.path" title="Permalink to this definition">¶</a></dt>
<dd><p>The path of the request. For instance, &#8220;/index.html&#8221;. This attribute is
defined as read-only. To modify the path, use the <a class="reference internal" href="#Request.url" title="Request.url"><tt class="xref py py-attr docutils literal"><span class="pre">url</span></tt></a> attribute.</p>
</dd></dl>

<dl class="attribute">
<dt id="Request.query">
<tt class="descname">query</tt><a class="headerlink" href="#Request.query" title="Permalink to this definition">¶</a></dt>
<dd><p>The query. For instance, &#8220;issue=32&amp;debug=false&#8221;. This attribute is
read-only. To modify the query, use <a class="reference internal" href="#Request.url" title="Request.url"><tt class="xref py py-attr docutils literal"><span class="pre">url</span></tt></a>.</p>
</dd></dl>

<dl class="attribute">
<dt id="Request.cookies">
<tt class="descname">cookies</tt><a class="headerlink" href="#Request.cookies" title="Permalink to this definition">¶</a></dt>
<dd><p>A python cookie, see <a class="reference external" href="http://docs.python.org/library/cookie.html">http://docs.python.org/library/cookie.html</a>. This
attribute is read-only, based on the <a class="reference internal" href="#Request.headers" title="Request.headers"><tt class="xref py py-attr docutils literal"><span class="pre">headers</span></tt></a></p>
</dd></dl>

<dl class="attribute">
<dt id="Request.response">
<tt class="descname">response</tt><a class="headerlink" href="#Request.response" title="Permalink to this definition">¶</a></dt>
<dd><p>The associated response, once the request has been made to the server.
For more information, see <a class="reference internal" href="#Response" title="Response"><tt class="xref py py-class docutils literal"><span class="pre">Response</span></tt></a></p>
</dd></dl>

<p>The Request class define both __repr__ and __str__ for a different behavior
when called using the interpreter. The other methods available are:</p>
<dl class="method">
<dt id="Request.__call__">
<tt class="descname">__call__</tt><big>(</big><big>)</big><a class="headerlink" href="#Request.__call__" title="Permalink to this definition">¶</a></dt>
<dd><p>make the request</p>
</dd></dl>

<dl class="method">
<dt id="Request._update_content_length">
<tt class="descname">_update_content_length</tt><big>(</big><big>)</big><a class="headerlink" href="#Request._update_content_length" title="Permalink to this definition">¶</a></dt>
<dd><p>in case you change the body of the request</p>
</dd></dl>

<dl class="method">
<dt id="Request.copy">
<tt class="descname">copy</tt><big>(</big><big>)</big><a class="headerlink" href="#Request.copy" title="Permalink to this definition">¶</a></dt>
<dd><p>create a new request based on the current, without the response</p>
</dd></dl>

<dl class="method">
<dt id="Request.edit">
<tt class="descname">edit</tt><big>(</big><big>)</big><a class="headerlink" href="#Request.edit" title="Permalink to this definition">¶</a></dt>
<dd><p>start your favorite EDITOR to edit the request, the new request is
returned. If the environment variable EDITOR has not been set, &#8216;vim&#8217;
will be used.</p>
</dd></dl>

<dl class="method">
<dt id="Request.play">
<tt class="descname">play</tt><big>(</big><em>options</em><big>)</big><a class="headerlink" href="#Request.play" title="Permalink to this definition">¶</a></dt>
<dd><p>start your EDITOR with two windows. Each time the request file is saved,
the request is made to the server and the response updated. By default,
options is set up for Vim. When the editor terminates, the last valid
request made is returned.</p>
</dd></dl>

<dl class="method">
<dt id="Request.extract">
<tt class="descname">extract</tt><big>(</big><em>field</em><big>)</big><a class="headerlink" href="#Request.extract" title="Permalink to this definition">¶</a></dt>
<dd><p>extract information on the request. See RequestSet.extract</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="c">
<tt class="descname">c</tt><big>(</big><em>url</em><big>)</big><a class="headerlink" href="#c" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a Request based on a URL. For instance <cite>c(&#8220;http://www.phrack.org&#8221;)</cite>.
Some headers are automatically added to the request (User-Agent, Accept,
Accept-Encoding, Accept-Language, Accept-Charset, Keep-Alive, Connection).</p>
</dd></dl>

<dl class="class">
<dt id="Response">
<em class="property">class </em><tt class="descname">Response</tt><big>(</big><em>fd</em><big>)</big><a class="headerlink" href="#Response" title="Permalink to this definition">¶</a></dt>
<dd><p>You will never use directly the constructor of Response, instead reference
a response object as a request result.</p>
<dl class="attribute">
<dt id="Response.status">
<tt class="descname">status</tt><a class="headerlink" href="#Response.status" title="Permalink to this definition">¶</a></dt>
<dd><p>The status of the response. For instance, &#8220;404&#8221; or &#8220;200&#8221;.</p>
</dd></dl>

<dl class="attribute">
<dt id="Response.reason">
<tt class="descname">reason</tt><a class="headerlink" href="#Response.reason" title="Permalink to this definition">¶</a></dt>
<dd><p>The reason. For instance, &#8220;Not Found&#8221;</p>
</dd></dl>

<dl class="attribute">
<dt id="Response.http_version">
<tt class="descname">http_version</tt><a class="headerlink" href="#Response.http_version" title="Permalink to this definition">¶</a></dt>
<dd><p>The version. For instance, &#8220;HTTP/1.1&#8221;</p>
</dd></dl>

<dl class="attribute">
<dt id="Response.headers">
<tt class="descname">headers</tt><a class="headerlink" href="#Response.headers" title="Permalink to this definition">¶</a></dt>
<dd><p>List of couple containing the headers.</p>
</dd></dl>

<dl class="attribute">
<dt id="Response.content">
<tt class="descname">content</tt><a class="headerlink" href="#Response.content" title="Permalink to this definition">¶</a></dt>
<dd><p>The content returned by the server. It could be compressed or chunked.</p>
</dd></dl>

<dl class="attribute">
<dt id="Response.readable_content">
<tt class="descname">readable_content</tt><a class="headerlink" href="#Response.readable_content" title="Permalink to this definition">¶</a></dt>
<dd><p>Decoded content, as displayed by your browser.</p>
</dd></dl>

<dl class="attribute">
<dt id="Response.cookies">
<tt class="descname">cookies</tt><a class="headerlink" href="#Response.cookies" title="Permalink to this definition">¶</a></dt>
<dd><p>A python cookie, see <a class="reference external" href="http://docs.python.org/library/cookie.html">http://docs.python.org/library/cookie.html</a>. This
attribute is read-only, based on the <a class="reference internal" href="#Response.headers" title="Response.headers"><tt class="xref py py-attr docutils literal"><span class="pre">headers</span></tt></a></p>
</dd></dl>

<dl class="method">
<dt id="Response.raw">
<tt class="descname">raw</tt><big>(</big><big>)</big><a class="headerlink" href="#Response.raw" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the full response including headers and content.</p>
</dd></dl>

<dl class="method">
<dt id="Response.preview">
<tt class="descname">preview</tt><big>(</big><big>)</big><a class="headerlink" href="#Response.preview" title="Permalink to this definition">¶</a></dt>
<dd><p>Start your browser on a static dump of the response.</p>
</dd></dl>

<dl class="method">
<dt id="Response.extract">
<tt class="descname">extract</tt><big>(</big><em>field</em><big>)</big><a class="headerlink" href="#Response.extract" title="Permalink to this definition">¶</a></dt>
<dd><p>extract information on the request. See RequestSet.extract</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="RequestSet">
<em class="property">class </em><tt class="descname">RequestSet</tt><big>(</big><span class="optional">[</span><em>reqs=None</em><span class="optional">]</span><big>)</big><a class="headerlink" href="#RequestSet" title="Permalink to this definition">¶</a></dt>
<dd><p>RequestSet is just an easy way to group request. It basically behave like a
list. You can access element at a specific index with the <cite>[]</cite> operator.
The main methods are:</p>
<dl class="method">
<dt id="RequestSet.filter">
<tt class="descname">filter</tt><big>(</big><em>**kwds</em><big>)</big><a class="headerlink" href="#RequestSet.filter" title="Permalink to this definition">¶</a></dt>
<dd><p>Filter the RequestSet according to some conditions and return a new
RequestSet containing only the request matching all the conditions. For
instance, to filter by hostname, you can use <cite>rs.filter(hostname=&#8217;phrack.org&#8217;)</cite>.</p>
</dd></dl>

<dl class="method">
<dt id="RequestSet.extract">
<tt class="descname">extract</tt><big>(</big><em>arg</em><big>)</big><a class="headerlink" href="#RequestSet.extract" title="Permalink to this definition">¶</a></dt>
<dd><p>Base on the same idea as filter, it returns a specific attribute for all the
request. For instance, <cite>rs.extract(&#8220;hostname&#8221;)</cite></p>
</dd></dl>

<dl class="method">
<dt id="RequestSet.__call__">
<tt class="descname">__call__</tt><big>(</big><big>)</big><a class="headerlink" href="#RequestSet.__call__" title="Permalink to this definition">¶</a></dt>
<dd><p>Make all the requests contained in the RequestSet only if they are all using
the same host and port. An exception is raised if it is not the case.</p>
</dd></dl>

<dl class="method">
<dt id="RequestSet.save">
<tt class="descname">save</tt><big>(</big><em>name</em><big>)</big><a class="headerlink" href="#RequestSet.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save the request set. Use load(name) to load it.</p>
</dd></dl>

</dd></dl>

</div>


          </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="proxy.html" title="abrupt.proxy - HTTP(S) Proxy"
             >next</a> |</li>
        <li class="right" >
          <a href="index.html" title="Quickstart"
             >previous</a> |</li>
        <li><a href="index.html">Abrupt v0.2 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2011, Securus Global.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.0.7.
    </div>
  </body>
</html>